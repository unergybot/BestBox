[server]
root_url = http://localhost:3001
serve_from_sub_path = false

[security]
admin_user = admin
admin_password = bestbox
allow_embedding = true

[auth]
disable_login_form = false
oauth_auto_login = true

[auth.generic_oauth]
name = Authelia
enabled = true
client_id = grafana
client_secret = bestbox-secret
scopes = openid profile email groups
auth_url = http://localhost:9091/api/oidc/authorization
token_url = http://authelia:9091/api/oidc/token
api_url = http://authelia:9091/api/oidc/userinfo
use_pkce = false
role_attribute_path = contains(groups[*], 'admin') && 'Admin' || contains(groups[*], 'engineer') && 'Editor' || 'Viewer'
allow_sign_up = true

[users]
allow_sign_up = false
auto_assign_org = true
auto_assign_org_role = Viewer

[auth.anonymous]
enabled = true
org_name = Main Org.
org_role = Viewer
